"use strict";(self["webpackChunkcnode"]=self["webpackChunkcnode"]||[]).push([[360],{35360:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[e("LayoutContent",{scopedSlots:t._u([{key:"head",fn:function(){return[e("div",{staticClass:"tabs"},t._l(t.tabs,(function(a){return e("router-link",{key:a.id,class:["tab-item",{"router-link-active":"all"===a.value&&"/"===t.$route.path}],attrs:{to:{path:"/"+a.value}}},[t._v(" "+t._s(a.label)+" ")])})),1)]},proxy:!0}])},[e("div",[e("div",{staticClass:"list"},[t.list.length>0?t._l(t.list,(function(a){return e("TopicItem",t._b({key:a.id},"TopicItem",a,!1))})):0!==t.list.length||t.loading?t._e():e("el-empty",{attrs:{description:"暂无文章数据"}})],2),t.list.length>0?e("el-pagination",{attrs:{background:"","current-page":t.page,"page-sizes":[20,40,60],"page-size":t.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"update:pageSize":function(e){t.limit=e},"update:page-size":function(e){t.limit=e}}}):t._e()],1)])],1)},l=[],n=a(97473),s={data(){return{list:[],tabs:[{id:"16t",label:"全部",value:"all",total:139},{id:"161t",label:"精华",value:"good",total:139},{id:"162t",label:"分享",value:"share",total:139},{id:"16t3",label:"问答",value:"ask",total:139},{id:"16t4",label:"招聘",value:"job",total:139},{id:"165t",label:"客户端测试",value:"dev",total:139}],page:1,limit:40,tab:"all",loading:!1}},computed:{total(){return this.tabs.find((t=>t.value===this.tab)).total}},watch:{"$route.params.type":{handler(t){const e=t||"all";this.tab=e,this.page=1,this.limit=40,this.getTopics()},immediate:!0}},methods:{async getTopics(){this.loading=!0;const{page:t,limit:e,tab:a}=this,i={tab:a,page:t,limit:e},{data:l}=await(0,n.BB)(i);console.log(l),this.loading=!1,this.list=l},handleCurrentChange(){this.getTopics()},handleSizeChange(){this.page=1,this.getTopics()}}},o=s,r=a(1001),u=(0,r.Z)(o,i,l,!1,null,"203f0ee1",null),d=u.exports}}]);
//# sourceMappingURL=360.b79b4332.js.map